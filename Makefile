# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: abourgue <abourgue@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2023/03/17 11:44:05 by abourgue          #+#    #+#              #
#    Updated: 2023/04/06 11:32:14 by abourgue         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME = so_long

MLX = mlx/libmlx.a


SRC_DIR = src/

SRC = main.c func_move.c func_key.c func_map.c \
	func_map_utils.c func_map_check.c func_print_map.c \
	func_move_check.c is_winnable.c

SOURCES = $(addprefix $(SRC_DIR), $(SRC))

OBJS = $(SOURCES:%.c=%.o)

CC = gcc

CFLAGS = -Wall -Wextra -Werror -fsanitize=address -g3

G		= \033[0;90m #gray
R		= \033[0;91m #red
GR		= \033[0;92m #green
Y		= \033[0;93m #yellow
B		= \033[0;94m #blue
M		= \033[0;95m #magenta
C		= \033[0;96m #cyan
W		= \033[0;97m #white
ENDCOLOR	= \033[0m #reset
BG_G		= \033[42m #bg_g


all: logo print ${NAME}

logo:
	@echo "${Y}"
	@echo "		⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⣴⣶⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"⠀⠀⠀⠀
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⣿⣿⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⡄⠀⠀⠀⠀⠀⠀⠀⠠⠛⠛⣿⣿⡄⠀⠀⢠⣤⠀⠀⠀⢀⡀⣀⣠⣤⣤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠹⡄⠀⠀⠀⠀⠀⠀⠀⢀⣠⣿⣿⣿⣦⣤⣼⣿⠇⠀⢰⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠐⠤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⡄⠀⠀⠀⠰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣄⠀⢀⣽⣿⡏⠀⠀⠈⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠈⠻⣦⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠰⣄⠀⠀⠀⢀⣿⣦⣶⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣇⣠⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠈⠙⢿⣷⣦⣀⠀⠀⠀⠀⠀⠀⠀⠹⣿⣶⣾⣿⣿⣿⡿⠿⠟⠛⠛⠛⠛⠛⠛⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠙⢿⣿⣿⣦⣄⡀⠀⠀⣠⣾⣿⣿⣿⠟⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠛⢿⣿⣿⣿⣿⣿⣿⣷⣤⣤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⣿⣿⣿⣷⣾⣿⣿⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠻⣿⣿⣿⣿⣿⣿⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⣿⣿⣿⣿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⢿⣿⣿⣿⣿⣧⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣿⡿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣾⣿⣿⣿⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣿⠷⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⣿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣄⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠲⠶⢶⣦⣤⣾⣿⣿⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⣿⣿⣿⣿⣿⣿⣿⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⠿⠆⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⣿⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡰⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⢦⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⣼⣿⡄⠀⠀⠀⠀⠀⠀⠀⠀⢠⣾⣧⡀⠀⠀⠀⠀⠀⠀⠀⠈⣿⣿⣿⣧⣤⡄⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⢠⣾⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⢀⣼⣿⣿⣿⣄⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣷⡀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⡿⠛⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⠙⣿⣿⣇⠀⠀⠀⠀⠀⠀⢀⣾⣿⣿⣿⣿⣿⣆⠀⠀⠀⠀⣰⣿⣿⣿⣿⣿⣷⡀⠀⠀⠀⠀⠀⢰⣿⣿⣿⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣴⣿⣿⣿⠀⠀⠀⠀⠀⢠⣾⣿⣿⣿⣿⣿⣿⣿⣧⠀⠀⣴⣿⣿⣿⣿⣿⣿⣿⣿⡄⠀⠀⠀⠀⣸⣿⣿⡿⠟⠿⠷⠶⠤⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⠿⣿⣿⣿⣇⠀⠀⠀⠠⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠧⠼⠿⠿⠿⠿⠿⠿⠿⠿⠿⠿⠄⠀⠀⢠⣿⣿⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⢹⣿⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⣿⣿⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⢿⣿⣿⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣿⣿⣿⣿⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⣿⣿⣿⢿⣿⣿⣿⣦⡀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⣾⣿⣿⣿⣿⣿⣷⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣴⣿⣿⡿⠟⠁⠀⠈⠙⠻⢿⣿⣶⣄⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣿⣿⣿⣶⣤⣀⡀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣤⣶⣿⣿⣿⠿⣿⣇⠀⠀⠀⠀⠀⠀⠀⠉⠛⠿⣷⣤⡀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣶⣶⣿⣿⣿⣿⠿⠿⢿⠉⠀⠀⠀⠙⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠻⢦⣀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⢸⣿⡿⠋⠉⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠈⢧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠑"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⣤⣤⣴⣿⣿⣧⡄⠀⢠⣼⡿⠛⢿⣿⣿⣿⠏⠁⠀⠀⠀⠀⠀⠀⠈⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⣿⣿⠿⠛⠛⠋⠀⠀⠘⠿⠁⠀⠀⠙⣿⣿⣄⣠⠀⠀⠀⠀⠀⠀⠀⠀⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⠿⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"
	@echo "	⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⠿⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀"

print:
	@echo "${GR}"
	@echo "███████╗ ██████╗         ██╗      ██████╗ ███╗   ██╗ ██████╗        "
	@echo "██╔════╝██╔═══██╗        ██║     ██╔═══██╗████╗  ██║██╔════╝${Y}"
	@echo "███████╗██║   ██║        ██║     ██║   ██║██╔██╗ ██║██║  ███╗       "
	@echo "╚════██║██║   ██║        ██║     ██║   ██║██║╚██╗██║██║   ██║${R}"
	@echo "███████║╚██████╔╝███████╗███████╗╚██████╔╝██║ ╚████║╚██████╔╝       "
	@echo "╚══════╝ ╚═════╝ ╚══════╝╚══════╝ ╚═════╝ ╚═╝  ╚═══╝ ╚═════╝        "
	@echo "															${M}"
	@echo "█████╗ ██████╗  ██████╗ ██╗   ██╗██████╗  ██████╗ ██╗   ██╗███████╗ "
	@echo "██╔══██╗██╔══██╗██╔═══██╗██║   ██║██╔══██╗██╔════╝ ██║   ██║██╔════╝${B}"
	@echo "███████║██████╔╝██║   ██║██║   ██║██████╔╝██║  ███╗██║   ██║█████╗  "
	@echo "██╔══██║██╔══██╗██║   ██║██║   ██║██╔══██╗██║   ██║██║   ██║██╔══╝${C}"
	@echo "██║  ██║██████╔╝╚██████╔╝╚██████╔╝██║  ██║╚██████╔╝╚██████╔╝███████╗"
	@echo "╚═╝  ╚═╝╚═════╝  ╚═════╝  ╚═════╝ ╚═╝  ╚═╝ ╚═════╝  ╚═════╝ ╚══════╝"
	@echo "${ENDCOLOR}"
	
$(MLX):
	@echo "${Y}"
	@make -C ./mlx/

$(NAME): $(MLX) $(OBJS)
	@echo "${GR}"
	@make -C ./libft/
	@make -C ./gnl/
	@$(CC) $(OBJS) $(CFLAGS) -Imlx $(MLX) -framework OpenGL -framework AppKit ./libft/libft.a ./gnl/get_next_line.a -o $(NAME)

%.o: %.c
	@$(CC) -c $(CFLAGS) -Imlx -c $< -o $@

clean:
	@make -C ./libft fclean
	@make -C ./gnl fclean
	@make -C ./mlx clean
	@rm -f $(OBJS) $(OBJS)

fclean: clean
	@rm -f $(NAME)
	@echo fclean: OK

re: fclean all
